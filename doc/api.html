<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>OGRA JS library</title>

		<link rel="stylesheet" type="text/css" href="css/style.css"/>

        <script type="text/javascript" src="../ogra.js"></script>

    </head>
    <body>
        <div id="wrap">
			<div id="wrap-head">
				<div style="float: right">
					<p><b>Author:</b> <a href="mailto:jan.danihelka@nic.cz">Opi Danihelka</a></p>
					<p><b>Developed by:</b> <a href="https://labs.nic.cz">CZ.NIC Labs</a></p>
					<p><b>Latest version:</b> <a href="https://github.com/CZNIC-Labs/ogra">OGRA Git repository</a></p>
				</div>


				<h1>OGRA JS library</h1>
				
				<ul id="navigation">
					<li><a href="index.html">About OGRA</a></li>
					<li class="currentLink">API Documentation</li>
					<li><a href="examples.html">Examples</a></li>
					<li><a href="https://github.com/CZNIC-Labs/ogra">Download</a></li>
				</ul>
			</div>

			<div id="wrap-body">



			<h2>Initialization of OGRA library</h2>

			<p>Write down given line of code to the head of your HTML file where you want to draw a chart:</p>

			<pre>
				
	&lt;script type="text/javascript" src="https://raw.github.com/CZNIC-Labs/ogra/master/ogra.js"&gt;&lt;/script&gt;
			</pre>

			<p>OGRA will automatically import all required JS libraries of the third parties (example: Google Charts, High Charts, jQuery...) in case it's required for creating of your chart.</p>



			<h2>OGRA data format</h2>

			<p>For drawing charts you need to have data in valid OGRA format. OGRA format is fully compatible with format used in <a href="https://developers.google.com/chart/">Google Charts</a>. In case that you want to draw a chart in different graphic library other than Google Charts, you don't have to change format of data anymore. OGRA will change it for you automatically.</p>

			<p>For simple generating of OGRA format on the server side, we would recommend to use <a href="http://code.google.com/p/google-visualization-python/source/browse/trunk/gviz_api.py">gviz_api.py</a><p>


			<p>Example of data in OGRA format:</p>
			<pre>
	&lt;script type="text/javascript"&gt;

	var data = {"cols":[{"id":"","label":"Year","pattern":"","type":"string"},{"id":"","label":"Sales","pattern":"","type":"number"},{"id":"","label":"Expenses","pattern":"","type":"number"}],"rows":[{"c":[{"v":"2004","f":null},{"v":1000,"f":null},{"v":400,"f":null}]},{"c":[{"v":"2005","f":null},{"v":1170,"f":null},{"v":460,"f":null}]},{"c":[{"v":"2006","f":null},{"v":660,"f":null},{"v":1120,"f":null}]},{"c":[{"v":"2007","f":null},{"v":1030,"f":null},{"v":540,"f":null}]}],"p":null};

	&lt;/script&gt;
			</pre>

			<p>Data will be used in example below...</p>


			<h2>Drawing of chart</h2>

			<p>For drawing chart you need to call <b>Ogra.graph</b> method.</p>


			1. Initialization of OGRA JS:
			<pre>

	&lt;script type="text/javascript" src="https://raw.github.com/CZNIC-Labs/ogra/master/ogra.js"&gt;&lt;/script&gt;
			</pre>

			2. Create element for future chart:
			<pre>

	&lt;div id="elem_id" style="width: 500px; height: 300px;"&gt;&lt;/div&gt;
			</pre>


			3. Create chart:
			<pre>
	&lt;script type="text/javascript"&gt;

	Ogra.graph("elem_id", data, "column", "google", {title: "My chart"});

	&lt;/script&gt;
			</pre>

			<p><a target="_blank" href="http://jsfiddle.net/uWGLR/" >Try this example online!</a></p>



			<h2>Syntax</h2>

			<pre>

	Ogra.graph(<b>element_id</b>, <b>data</b>, <b>chart_type</b>, <b>used_library</b>, <b>options</b>);
			</pre>


			<ul>
				<li><b>element_id</b><br/>Type: String<br/> - Id of HTML element, where you want to draw a chart.</li>
				<li><b>data</b><br/>Type: OGRA format / URL <br/> - Input data for given chart, data can be given as a JS object in OGRA format, or as URL. In case that URL is used, AJAX will try to obtain data from given URL.</li>
				<li><b>chart_type</b><br/>Type: String<br/> - Chart type (example.: "pie", "column", ...) Table of supported types for each graphical library is listed below.</li>
				<li><b>used_library</b><br/>Type: String<br/> - Graphic library which should be used for drawing of chart (example.: "google", "high", ...).</li>
				<li><b>options</b><br/>Type: Object<br/> - Optional parameter for additional setting of chart. (example.: {title: "Title of chart"} ). Possible options are descriped in chapter below.</li>
			</ul>



			<h2>Configuration options</h2>

			<p>List of supported additional parameters.</p>


			<p>Take a look at <a target="_blank" href="http://jsfiddle.net/U7Sqc/">example of chart with a various options</a>.</p>

			<p>Callback and chart reference:</p>
			<ul>
				<li><b>callback</b> - Function. Callback method is called after drawing of chart is complete. First parameter for callback method is reference to the chart that has been just created. <a target="_blank" href="http://jsfiddle.net/b3wfL/">Example of usage</a>.</li>
				<li><b>callback_args</b> - Array. Optional list of additional parameters for callback method.</li>
			</ul>

			<p>Most wanted parameters:</p>
			<ul>
				<li><b>title</b> - String. Title of the chart.</li>
				<li><b>width</b> - Number. Width of the chart element.</li>
				<li><b>height</b> - Number. Height of the chart element.</li>
				<li><b>colors</b> - Array. List of colors, which are used for series.</li>
				<li><b>isStacked</b> - Boolean. By default is set to False. Setting parameter to True, causes column chart will display with stacked columns.</li>
			</ul>

			<p>For the full list of possible options please visit <a href="https://developers.google.com/chart/interactive/docs/reference">Google Chart API reference</a>.</p>


			<p>Highcharts additional parameters (other libraries will ignore these setting):</p>
			<ul>
				<li><b>lang</b> - Object. Please read more about this parameter at <a target="_blank" href="http://api.highcharts.com/highcharts#lang">Highcharts API reference</a>.</li>
				<li><b>animation_duration</b> - Number. Duration of startup animation (0 = disabled animations).</li>
				<li><b>credits_text</b> - String. Text displayed on the right bottom corner.</li>
				<li><b>credits_href</b> - URL String. URL link binded on click to credits_text</li>
			</ul>
			


			<h2>Table of supported chart types for each graphic library</h2>

			<table id="supported" border="1">
			<tr><td>Type of chart:</td><td>Google Chart "<i>google</i>"</td><td>Highcharts JS "<i>high</i>"</td><td>DyGraphs "<i>dygraphs</i>"</td><td>Flot "<i>flot</i>"</td></tr>
			<tr><td>Line</td><td>YES</td><td>YES</td><td>YES</td><td>YES</td></tr>
			<tr><td>Column</td><td>YES</td><td>YES</td><td>NO</td><td>YES</td></tr>
			<tr><td>Bar</td><td>YES</td><td>YES</td><td>NO</td><td>NO</td></tr>
			<tr><td>Pie</td><td>YES</td><td>YES</td><td>NO</td><td>YES</td></tr>
			<tr><td>Table</td><td>YES</td><td>NO</td><td>NO</td><td>NO</td></tr>
			</table>

			<script type="text/javascript">
				// colorize table cells
				var t = document.getElementById("supported").children[0].children;
				
				for (var i = 1; i < t.length; i++) {
					var row = t[i].children;
					for (var j = 1; j < row.length; j++) {
						var cell = row[j];
						if (cell.innerHTML == "YES") {
							cell.style.background = "#1f1";
						} else if (cell.innerHTML == "NO") {
							cell.style.background = "#f11";
						}
					}
				}
			</script>



			<h2>Offline charts</h2>

			<p>For using OGRA in offline mode you have to download all required graphical libraries of third parties and import them, before initialization of OGRA. OGRA is checking namespace for required libraries during it's initialization. If required names are not defined, OGRA will try to download all required libraries from preset URLs.</p>

			<p>You can also overwrite these preset URLs. <a target="_blank" href="http://jsfiddle.net/jVZMf/">Take a look at example.</a> </p>



			<h2>Exceptions</h2>

			<p>In case of failure during creation of chart, the error message will be displayed on the position of planned chart. Error message contains short problem description.</p>

			<p>Take a look at <a target="_blank" href="http://jsfiddle.net/xe9sY/">example with error message</a>.</p>



			</div>
			<div id="wrap-tail">
				<hr/>
				<a target="_blank" href="http://www.nic.cz/"><img alt="CZ.NIC" src="img/cznic.png" style="width: 200px; float: right" /></a>
				<p>Â© 2013 CZ.NIC Labs</p>
			</div>
		</div>
    </body>
</html>