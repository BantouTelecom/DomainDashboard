<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>OGRA library</title>

		<link rel="stylesheet" type="text/css" href="../css/style.css"/>

        <script type="text/javascript" src="../../ogra.js"></script>

    </head>
    <body>
        <div id="wrap">
			<div id="wrap-head">
				<div style="float: right">
					<p><b>Author:</b> <a href="mailto:jan.danihelka@nic.cz">Jan Danihelka</a></p>
					<p><b>Developed by:</b> <a href="https://www.nic.cz">CZ.NIC</a></p>
					<p><b>Latest version:</b> <a href="https://github.com/CZNIC-Labs/ogra">OGRA Git repository</a></p>
				</div>


				<h1>OGRA library</h1>
				
				<ul id="navigation">
					<li><a href="../index.html">About OGRA</a></li>
					<li><a href="../api.html">API Documentation</a></li>
					<li><a style="color: #fff;" href="../examples.html">Examples</a></li>
					<li><a href="https://github.com/CZNIC-Labs/ogra">Download</a></li>
				</ul>
			</div>

			<div id="wrap-body">

			<h2>Example: Using the callback method</h2>

			<dl>
				<dt><b>callback</b>: Function</dt><dd>Callback method is called after drawing of chart is complete. First parameter for callback method is reference to the chart that has been just created.</dd>
				<dt><b>callback_args</b>: Array</dt><dd>Optional list of additional parameters for callback method.</dd>
			</dl>


			<h3>HTML:</h3>
			<p>Import OGRA and create element for future chart and report message.</p>
			<pre>&lt;script type="text/javascript" src="https://raw.github.com/CZNIC-Labs/ogra/master/ogra.js"&gt;&lt;/script&gt;

&lt;div id="my_chart"&gt;&lt;/div&gt;

&lt;div id="report"&gt;&lt;/div&gt;</pre>


			<h3>Javascript:</h3>
			<p>Prepare your data and create chart.</p>
			<pre>var data = {"cols":[{"label":"Year", "type":"string"},{"label":"Sales", "type":"number"},{"label":"Expenses", "type":"number"}],"rows":[{"c":[{"v":"2004"},{"v":1000},{"v":400}]},{"c":[{"v":"2005"},{"v":1170},{"v":460}]},{"c":[{"v":"2006"},{"v":660},{"v":1120}]},{"c":[{"v":"2007"},{"v":1030},{"v":540}]}]};			

function my_method(chart_reference, arg1, arg2) {		
	var element = document.getElementById("report");
	element.style.color = "red";
	element.innerHTML = "Chart is complete! " + arg1 + ", " + arg2;
}

Ogra.graph("my_chart", data, "column", "google", {callback: my_method, callback_args:["my_arg1", "my_arg2"]} );</pre>


			<h3>Result:</h3>
			<div id="my_chart"></div>
			<div id="report"></div>

			<script type="text/javascript">

				var data = {"cols":[{"label":"Year", "type":"string"},{"label":"Sales", "type":"number"},{"label":"Expenses", "type":"number"}],"rows":[{"c":[{"v":"2004"},{"v":1000},{"v":400}]},{"c":[{"v":"2005"},{"v":1170},{"v":460}]},{"c":[{"v":"2006"},{"v":660},{"v":1120}]},{"c":[{"v":"2007"},{"v":1030},{"v":540}]}]};

				function my_method(chart_reference, arg1, arg2) {		
					var element = document.getElementById("report");
					element.style.color = "red";
					element.innerHTML = "Chart is complete! " + arg1 + ", " + arg2;
				}

				Ogra.graph("my_chart", data, "column", "google", {callback: my_method, callback_args:["my_arg1", "my_arg2"]} );
			</script>


			<p style="float: left;"><a target="_blank" href="http://jsfiddle.net/Batcp/">Edit in jsFiddle</a></p>
			<p style="float: right;"><a href="../examples.html">More examples</a></p>

			
			</div>
			<div id="wrap-tail">
				<hr/>
				<a target="_blank" href="http://www.nic.cz/"><img alt="CZ.NIC" src="../img/cznic.png" style="width: 200px; float: right" /></a>
				<p>Â© 2013 CZ.NIC</p>
			</div>
		</div>
    </body>
</html>