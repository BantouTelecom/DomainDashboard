<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>OGRA JS library</title>

        <style type="text/css">
            body {
                color: #3A3A30;
                background-color: #eee;
                font-family: Verdana, Geneva, Arial, Helvetica, sans-serif, Corbel;
                line-height: 1.3;
                padding: 0px;
                margin: 0px;
            }
            p {
                text-align: justify; 
            }
			pre {
                color: #5A5A50;
				background-color: #fff;
				box-shadow: 5px 5px 3px #888888;
				overflow: auto;
			}
			h2 {
				margin-top: 60px;
			}
			table {
				border-width: 1px;
				border-spacing: 0px;
				border-style: solid;
				border-color: #5A5A50;
			}
			table td {
				min-width: 150px;
				padding: 5px;
				text-align: center;
			}
            #wrap {
                margin: 20px auto 0px;
                padding: 20px 50px 50px;
            }
        </style>

        <script type="text/javascript" src="ogra.js"></script>

    </head>
    <body>
        <div id="wrap">
            <h1>OGRA JS library</h1>

			<p><b>Author:</b> <a href="mailto:jan.danihelka@nic.cz">Opi Danihelka</a></p>
			<p><b>Developed by:</b> <a href="https://labs.nic.cz">CZ.NIC Labs 2013</a></p>
			<p><b>Latest version:</b> <a href="https://git.nic.cz/redmine/projects/ogra/repository">OGRA Git repository</a></p>

			<p>Supported chart libraries at this moment:</p>
			<ul>
				<li><a href="https://developers.google.com/chart/">Google Chart</a></li>
				<li><a href="http://www.highcharts.com/">Highcharts JS</a></li>
				<li><a href="http://dygraphs.com/">DyGraphs</a></li>
				<li><a href="http://www.flotcharts.org/">Flot</a></li>
			</ul>

			<h2>Initialization of OGRA library</h2>

			<pre>
				
	&lt;script type="text/javascript" src="/static/js/ogra.js"&gt;&lt;/script&gt;
			</pre>

			<p>OGRA will automatically load all required JS libraries of the third parties (example: Google Charts, High Charts, jQuery...) in case it's required.</p>

			<h2>OGRA data format</h2>


			<p>For drawing charts you need to have data in valid OGRA format. OGRA format is fully compatible with format used in <a href="https://developers.google.com/chart/">Google Charts</a>. In case that you want to draw a chart in different graphic library other than Google Charts, you don't have to change format of data anymore. OGRA will change it for you automatically.</p>

			<p>For simple generating of OGRA format on the server side, we would recommend to use <a href="http://code.google.com/p/google-visualization-python/source/browse/trunk/gviz_api.py">gviz_api.py</a><p>


			<h2>Drawing of chart</h2>

			<pre>

	&lt;div id="elem_id" style="width: 500px; height: 300px;"&gt;&lt;/div&gt;
			</pre>

			<pre>

	&lt;script type="text/javascript"&gt;
		Ogra.graph("elem_id", "/stats/generate_data_example?date=10", "column", "google");
	&lt;/script&gt;
			</pre>


			<h2>Syntax</h2>

			<pre>

	Ogra.graph("example", "/stats/generate_data_example?date=10", "column", "google", {title: "My chart"});
			</pre>

			<p>Ogra.graph(<b>element_id</b>, <b>chart_data</b>, <b>chart_type</b>, <b>used_drawing_library</b>, <b>additional_options</b>);</p>

			<ul>
				<li><b>element_id</b> - id of HTML element, where you want to draw a chart</li>
				<li><b>data</b> - input data for given chart, data can be given as a JS object in OGRA format, or as URL 
			(example.: some url)</li>

				<li><b>chart_type</b> - chart type (example.: "pie", "column", ...)</li>
				<li><b>type</b> - graphic library which should be used for drawing of chart (example.: "google", "high", ...)</li>
				<li><b>options</b> - optional parameter for additional setting of chart (chart title, color definition, callback method reference ...)
				(example.: {title: "Title of chart", callback: MyCallbackMethod} )</li>
			</ul>


			<h2>Exceptions</h2>

			<p>In case of failure during creation of chart, the error message will be displayed on the position of planned chart. Error message contains short problem description.</p>


			<h2>Table of supported chart types for each graphic library</h2>

			<table id="supported" border="1">
			<tr><td>Type of chart:</td><td>Google Chart</td><td>Highcharts JS</td><td>DyGraphs</td><td>Flot</td></tr>
			<tr><td>Line</td><td>YES</td><td>YES</td><td>YES</td><td>YES</td></tr>
			<tr><td>Column</td><td>YES</td><td>YES</td><td>NO</td><td>YES</td></tr>
			<tr><td>Bar</td><td>YES</td><td>YES</td><td>NO</td><td>NO</td></tr>
			<tr><td>Pie</td><td>YES</td><td>YES</td><td>NO</td><td>YES</td></tr>
			<tr><td>Table</td><td>YES</td><td>NO</td><td>NO</td><td>NO</td></tr>
			</table>

			<script type="text/javascript">
				// colorize table cells
				var t = document.getElementById("supported").children[0].children;
				
				for (var i = 1; i < t.length; i++) {
					var row = t[i].children;
					for (var j = 1; j < row.length; j++) {
						var cell = row[j];
						if (cell.innerHTML == "YES") {
							cell.style.background = "#1f1";
						} else if (cell.innerHTML == "NO") {
							cell.style.background = "#f11";
						}
					}

				}
			</script>


			<p>Possibility to change URL. You can overwrite...</p>

			<h2>Configuration options</h2>

			<p>List of supported additional parameters.</p>

			<p>For list of possible options please visit <a href="https://developers.google.com/chart/interactive/docs/reference">Google Chart API reference</a>.</p>



			<ul>
				<li><b>title</b> - </li>
				<li><b>width</b> - </li>
				<li><b>height</b> - </li>
				<li><b>colors</b> - </li>

				<li><b>vAxis</b> -  : {title: "vAxis text"}</li>
				<li><b>colors</b> - </li>


				<li><b>lang</b> - months...</li>
				<li><b>animation_duration</b> - 0 = disabled animations</li>

			</ul>

			<h2>References of usage</h2>

            <p><a href="example.html">Examples of charts</a> created with OGRA...</p>

			<a href="http://stats.labs.nic.cz/">Statistics of Czech domain name registry</a>

    </body>
</html>